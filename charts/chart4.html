
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    
      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});      
      
      // Set a callback for chart by time to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChartbytime);      
      // Set a callback for chart by mile to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChartbymile);
      google.charts.setonLoadCallback(drawChart)
      
      function drawChart() {
        // Create and populate the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'x');
        // add an "annotation" role column to the domain column
        data.addColumn({type: 'string', role: 'annotation'});
        data.addColumn('number', 'y');

        // add 100 rows of pseudorandom data
        var y = 50;
        for (var i = 0; i < 100; i++) {
            y += Math.floor(Math.random() * 5) * Math.pow(-1, Math.floor(Math.random() * 2));
            data.addRow([i, null, y]);
        }
        // add a blank row to the end of the DataTable to hold the annotations
        data.addRow([null, null, null]);
        // get the index of the row used for the annotations
        var annotationRowIndex = data.getNumberOfRows() - 1;

        var options = {
            annotation: {
                1: {
                    // set the style of the domain column annotations to "line"
                    style: 'line'
                }
            },
            height: 400,
            width: 600
        };

        // create the chart
        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        // create 'ready' event listener to add mousemove event listener to the chart
        var runOnce = google.visualization.events.addListener(chart, 'ready', function () {
            google.visualization.events.removeListener(runOnce);
            // create mousemove event listener in the chart's container
            // I use jQuery, but you can use whatever works best for you
            $('#chart_div').mousemove(function (e) {
                var xPos = e.pageX - container.offsetLeft;
                var yPos = e.pageY - container.offsetTop;
                var cli = chart.getChartLayoutInterface();
                var xBounds = cli.getBoundingBox('hAxis#0#gridline');
                var yBounds = cli.getBoundingBox('vAxis#0#gridline');

                // is the mouse inside the chart area?
                if (
                    (xPos >= xBounds.left || xPos <= xBounds.left + xBounds.width) &&
                    (yPos >= yBounds.top || yPos <= yBounds.top + yBounds.height) 
                ) {
                    // if so, draw the vertical line here
                    // get the x-axis value at these coordinates
                    var xVal = cli.getHAxisValue(xPos);
                    // set the x-axis value of the annotation
                    data.setValue(annotationRowIndex, 0, xVal);
                    // set the value to display on the line, this could be any value you want
                    data.setValue(annotationRowIndex, 1, xVal.toFixed(2));

                    // get the data value (if any) at the line
                    // truncating xVal to one decimal place,
                    // since it is unlikely to find an annotation like that aligns precisely with the data
                    var rows = data.getFilteredRows([{column: 0, value: parseFloat(xVal.toFixed(1))}]);
                    if (rows.length) {
                        var value = data.getValue(rows[0], 2);
                        // do something with value
                    }

                    // draw the chart with the new annotation
                    chart.draw(data, options);
                }
            });
        });

        // draw the chart
        chart.draw(data, options);
      }
      //==================================================================================================
      // Callback that creates and populates a data table for chart by time,
      // instantiates the chart, passes in the data and
      // draws it.
      function drawChartbytime() {    
        // python replacement in the python script.
        var jscodefortime_data = new google.visualization.DataTable();
jscodefortime_data.addColumn("number", "time", "time");
jscodefortime_data.addColumn("number", "GPU_temp", "GPU_temp");
jscodefortime_data.addColumn("number", "CPU_temp", "CPU_temp");
jscodefortime_data.addRows(50);
jscodefortime_data.setCell(0, 0, 0);
jscodefortime_data.setCell(0, 1, 33);
jscodefortime_data.setCell(0, 2, 37);
jscodefortime_data.setCell(1, 0, 1);
jscodefortime_data.setCell(1, 1, 40);
jscodefortime_data.setCell(1, 2, 61);
jscodefortime_data.setCell(2, 0, 2);
jscodefortime_data.setCell(2, 1, 40);
jscodefortime_data.setCell(2, 2, 52);
jscodefortime_data.setCell(3, 0, 3);
jscodefortime_data.setCell(3, 1, 46);
jscodefortime_data.setCell(3, 2, 67);
jscodefortime_data.setCell(4, 0, 4);
jscodefortime_data.setCell(4, 1, 54);
jscodefortime_data.setCell(4, 2, 53);
jscodefortime_data.setCell(5, 0, 5);
jscodefortime_data.setCell(5, 1, 57);
jscodefortime_data.setCell(5, 2, 62);
jscodefortime_data.setCell(6, 0, 6);
jscodefortime_data.setCell(6, 1, 37);
jscodefortime_data.setCell(6, 2, 35);
jscodefortime_data.setCell(7, 0, 7);
jscodefortime_data.setCell(7, 1, 58);
jscodefortime_data.setCell(7, 2, 54);
jscodefortime_data.setCell(8, 0, 8);
jscodefortime_data.setCell(8, 1, 53);
jscodefortime_data.setCell(8, 2, 55);
jscodefortime_data.setCell(9, 0, 9);
jscodefortime_data.setCell(9, 1, 34);
jscodefortime_data.setCell(9, 2, 57);
jscodefortime_data.setCell(10, 0, 10);
jscodefortime_data.setCell(10, 1, 51);
jscodefortime_data.setCell(10, 2, 48);
jscodefortime_data.setCell(11, 0, 11);
jscodefortime_data.setCell(11, 1, 34);
jscodefortime_data.setCell(11, 2, 37);
jscodefortime_data.setCell(12, 0, 12);
jscodefortime_data.setCell(12, 1, 62);
jscodefortime_data.setCell(12, 2, 35);
jscodefortime_data.setCell(13, 0, 13);
jscodefortime_data.setCell(13, 1, 37);
jscodefortime_data.setCell(13, 2, 55);
jscodefortime_data.setCell(14, 0, 14);
jscodefortime_data.setCell(14, 1, 66);
jscodefortime_data.setCell(14, 2, 49);
jscodefortime_data.setCell(15, 0, 15);
jscodefortime_data.setCell(15, 1, 46);
jscodefortime_data.setCell(15, 2, 45);
jscodefortime_data.setCell(16, 0, 16);
jscodefortime_data.setCell(16, 1, 39);
jscodefortime_data.setCell(16, 2, 44);
jscodefortime_data.setCell(17, 0, 17);
jscodefortime_data.setCell(17, 1, 61);
jscodefortime_data.setCell(17, 2, 51);
jscodefortime_data.setCell(18, 0, 18);
jscodefortime_data.setCell(18, 1, 50);
jscodefortime_data.setCell(18, 2, 46);
jscodefortime_data.setCell(19, 0, 19);
jscodefortime_data.setCell(19, 1, 63);
jscodefortime_data.setCell(19, 2, 32);
jscodefortime_data.setCell(20, 0, 20);
jscodefortime_data.setCell(20, 1, 33);
jscodefortime_data.setCell(20, 2, 61);
jscodefortime_data.setCell(21, 0, 21);
jscodefortime_data.setCell(21, 1, 43);
jscodefortime_data.setCell(21, 2, 53);
jscodefortime_data.setCell(22, 0, 22);
jscodefortime_data.setCell(22, 1, 61);
jscodefortime_data.setCell(22, 2, 56);
jscodefortime_data.setCell(23, 0, 23);
jscodefortime_data.setCell(23, 1, 50);
jscodefortime_data.setCell(23, 2, 64);
jscodefortime_data.setCell(24, 0, 24);
jscodefortime_data.setCell(24, 1, 39);
jscodefortime_data.setCell(24, 2, 68);
jscodefortime_data.setCell(25, 0, 25);
jscodefortime_data.setCell(25, 1, 30);
jscodefortime_data.setCell(25, 2, 52);
jscodefortime_data.setCell(26, 0, 26);
jscodefortime_data.setCell(26, 1, 63);
jscodefortime_data.setCell(26, 2, 44);
jscodefortime_data.setCell(27, 0, 27);
jscodefortime_data.setCell(27, 1, 40);
jscodefortime_data.setCell(27, 2, 51);
jscodefortime_data.setCell(28, 0, 28);
jscodefortime_data.setCell(28, 1, 68);
jscodefortime_data.setCell(28, 2, 33);
jscodefortime_data.setCell(29, 0, 29);
jscodefortime_data.setCell(29, 1, 49);
jscodefortime_data.setCell(29, 2, 49);
jscodefortime_data.setCell(30, 0, 30);
jscodefortime_data.setCell(30, 1, 38);
jscodefortime_data.setCell(30, 2, 53);
jscodefortime_data.setCell(31, 0, 31);
jscodefortime_data.setCell(31, 1, 46);
jscodefortime_data.setCell(31, 2, 56);
jscodefortime_data.setCell(32, 0, 32);
jscodefortime_data.setCell(32, 1, 33);
jscodefortime_data.setCell(32, 2, 45);
jscodefortime_data.setCell(33, 0, 33);
jscodefortime_data.setCell(33, 1, 33);
jscodefortime_data.setCell(33, 2, 42);
jscodefortime_data.setCell(34, 0, 34);
jscodefortime_data.setCell(34, 1, 36);
jscodefortime_data.setCell(34, 2, 39);
jscodefortime_data.setCell(35, 0, 35);
jscodefortime_data.setCell(35, 1, 46);
jscodefortime_data.setCell(35, 2, 50);
jscodefortime_data.setCell(36, 0, 36);
jscodefortime_data.setCell(36, 1, 64);
jscodefortime_data.setCell(36, 2, 58);
jscodefortime_data.setCell(37, 0, 37);
jscodefortime_data.setCell(37, 1, 34);
jscodefortime_data.setCell(37, 2, 45);
jscodefortime_data.setCell(38, 0, 38);
jscodefortime_data.setCell(38, 1, 44);
jscodefortime_data.setCell(38, 2, 40);
jscodefortime_data.setCell(39, 0, 39);
jscodefortime_data.setCell(39, 1, 67);
jscodefortime_data.setCell(39, 2, 51);
jscodefortime_data.setCell(40, 0, 40);
jscodefortime_data.setCell(40, 1, 44);
jscodefortime_data.setCell(40, 2, 47);
jscodefortime_data.setCell(41, 0, 41);
jscodefortime_data.setCell(41, 1, 48);
jscodefortime_data.setCell(41, 2, 39);
jscodefortime_data.setCell(42, 0, 42);
jscodefortime_data.setCell(42, 1, 69);
jscodefortime_data.setCell(42, 2, 61);
jscodefortime_data.setCell(43, 0, 43);
jscodefortime_data.setCell(43, 1, 46);
jscodefortime_data.setCell(43, 2, 31);
jscodefortime_data.setCell(44, 0, 44);
jscodefortime_data.setCell(44, 1, 45);
jscodefortime_data.setCell(44, 2, 36);
jscodefortime_data.setCell(45, 0, 45);
jscodefortime_data.setCell(45, 1, 31);
jscodefortime_data.setCell(45, 2, 37);
jscodefortime_data.setCell(46, 0, 46);
jscodefortime_data.setCell(46, 1, 36);
jscodefortime_data.setCell(46, 2, 31);
jscodefortime_data.setCell(47, 0, 47);
jscodefortime_data.setCell(47, 1, 57);
jscodefortime_data.setCell(47, 2, 61);
jscodefortime_data.setCell(48, 0, 48);
jscodefortime_data.setCell(48, 1, 68);
jscodefortime_data.setCell(48, 2, 61);
jscodefortime_data.setCell(49, 0, 49);
jscodefortime_data.setCell(49, 1, 60);
jscodefortime_data.setCell(49, 2, 54);

        
        // Set chart options
        var optionsbytime = {
          title: 'Device state by time',
          //curveType: 'function',
          legend: { position: 'right' },
          hAxis: { title: "Time" },
          vAxis: { title: "Temperature of device" }};
          
                       
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.LineChart(document.getElementById('curve_chartbytime'));
        chart.draw(jscodefortime_data, optionsbytime);
      }
      //===================================================================================================
      
      //===================================================================================================
      // Callback that creates and populates a data table for chart by mile
      function drawChartbymile() {    
        // python replacement in the python script.
        var jscodeformile_data = new google.visualization.DataTable();
jscodeformile_data.addColumn("number", "mile", "mile");
jscodeformile_data.addColumn("number", "GPU_temp", "GPU_temp");
jscodeformile_data.addColumn("number", "CPU_temp", "CPU_temp");
jscodeformile_data.addRows(50);
jscodeformile_data.setCell(0, 0, 0);
jscodeformile_data.setCell(0, 1, 64);
jscodeformile_data.setCell(0, 2, 35);
jscodeformile_data.setCell(1, 0, 1);
jscodeformile_data.setCell(1, 1, 56);
jscodeformile_data.setCell(1, 2, 46);
jscodeformile_data.setCell(2, 0, 2);
jscodeformile_data.setCell(2, 1, 45);
jscodeformile_data.setCell(2, 2, 38);
jscodeformile_data.setCell(3, 0, 3);
jscodeformile_data.setCell(3, 1, 59);
jscodeformile_data.setCell(3, 2, 53);
jscodeformile_data.setCell(4, 0, 4);
jscodeformile_data.setCell(4, 1, 32);
jscodeformile_data.setCell(4, 2, 55);
jscodeformile_data.setCell(5, 0, 5);
jscodeformile_data.setCell(5, 1, 64);
jscodeformile_data.setCell(5, 2, 68);
jscodeformile_data.setCell(6, 0, 6);
jscodeformile_data.setCell(6, 1, 49);
jscodeformile_data.setCell(6, 2, 59);
jscodeformile_data.setCell(7, 0, 7);
jscodeformile_data.setCell(7, 1, 42);
jscodeformile_data.setCell(7, 2, 63);
jscodeformile_data.setCell(8, 0, 8);
jscodeformile_data.setCell(8, 1, 37);
jscodeformile_data.setCell(8, 2, 65);
jscodeformile_data.setCell(9, 0, 9);
jscodeformile_data.setCell(9, 1, 46);
jscodeformile_data.setCell(9, 2, 37);
jscodeformile_data.setCell(10, 0, 10);
jscodeformile_data.setCell(10, 1, 31);
jscodeformile_data.setCell(10, 2, 61);
jscodeformile_data.setCell(11, 0, 11);
jscodeformile_data.setCell(11, 1, 41);
jscodeformile_data.setCell(11, 2, 40);
jscodeformile_data.setCell(12, 0, 12);
jscodeformile_data.setCell(12, 1, 59);
jscodeformile_data.setCell(12, 2, 41);
jscodeformile_data.setCell(13, 0, 13);
jscodeformile_data.setCell(13, 1, 32);
jscodeformile_data.setCell(13, 2, 44);
jscodeformile_data.setCell(14, 0, 14);
jscodeformile_data.setCell(14, 1, 37);
jscodeformile_data.setCell(14, 2, 44);
jscodeformile_data.setCell(15, 0, 15);
jscodeformile_data.setCell(15, 1, 48);
jscodeformile_data.setCell(15, 2, 59);
jscodeformile_data.setCell(16, 0, 16);
jscodeformile_data.setCell(16, 1, 66);
jscodeformile_data.setCell(16, 2, 60);
jscodeformile_data.setCell(17, 0, 17);
jscodeformile_data.setCell(17, 1, 38);
jscodeformile_data.setCell(17, 2, 59);
jscodeformile_data.setCell(18, 0, 18);
jscodeformile_data.setCell(18, 1, 63);
jscodeformile_data.setCell(18, 2, 47);
jscodeformile_data.setCell(19, 0, 19);
jscodeformile_data.setCell(19, 1, 31);
jscodeformile_data.setCell(19, 2, 62);
jscodeformile_data.setCell(20, 0, 20);
jscodeformile_data.setCell(20, 1, 59);
jscodeformile_data.setCell(20, 2, 45);
jscodeformile_data.setCell(21, 0, 21);
jscodeformile_data.setCell(21, 1, 35);
jscodeformile_data.setCell(21, 2, 66);
jscodeformile_data.setCell(22, 0, 22);
jscodeformile_data.setCell(22, 1, 47);
jscodeformile_data.setCell(22, 2, 38);
jscodeformile_data.setCell(23, 0, 23);
jscodeformile_data.setCell(23, 1, 35);
jscodeformile_data.setCell(23, 2, 46);
jscodeformile_data.setCell(24, 0, 24);
jscodeformile_data.setCell(24, 1, 49);
jscodeformile_data.setCell(24, 2, 44);
jscodeformile_data.setCell(25, 0, 25);
jscodeformile_data.setCell(25, 1, 39);
jscodeformile_data.setCell(25, 2, 49);
jscodeformile_data.setCell(26, 0, 26);
jscodeformile_data.setCell(26, 1, 62);
jscodeformile_data.setCell(26, 2, 62);
jscodeformile_data.setCell(27, 0, 27);
jscodeformile_data.setCell(27, 1, 53);
jscodeformile_data.setCell(27, 2, 36);
jscodeformile_data.setCell(28, 0, 28);
jscodeformile_data.setCell(28, 1, 37);
jscodeformile_data.setCell(28, 2, 68);
jscodeformile_data.setCell(29, 0, 29);
jscodeformile_data.setCell(29, 1, 36);
jscodeformile_data.setCell(29, 2, 53);
jscodeformile_data.setCell(30, 0, 30);
jscodeformile_data.setCell(30, 1, 42);
jscodeformile_data.setCell(30, 2, 32);
jscodeformile_data.setCell(31, 0, 31);
jscodeformile_data.setCell(31, 1, 36);
jscodeformile_data.setCell(31, 2, 69);
jscodeformile_data.setCell(32, 0, 32);
jscodeformile_data.setCell(32, 1, 35);
jscodeformile_data.setCell(32, 2, 59);
jscodeformile_data.setCell(33, 0, 33);
jscodeformile_data.setCell(33, 1, 50);
jscodeformile_data.setCell(33, 2, 68);
jscodeformile_data.setCell(34, 0, 34);
jscodeformile_data.setCell(34, 1, 33);
jscodeformile_data.setCell(34, 2, 30);
jscodeformile_data.setCell(35, 0, 35);
jscodeformile_data.setCell(35, 1, 45);
jscodeformile_data.setCell(35, 2, 42);
jscodeformile_data.setCell(36, 0, 36);
jscodeformile_data.setCell(36, 1, 56);
jscodeformile_data.setCell(36, 2, 50);
jscodeformile_data.setCell(37, 0, 37);
jscodeformile_data.setCell(37, 1, 30);
jscodeformile_data.setCell(37, 2, 49);
jscodeformile_data.setCell(38, 0, 38);
jscodeformile_data.setCell(38, 1, 47);
jscodeformile_data.setCell(38, 2, 41);
jscodeformile_data.setCell(39, 0, 39);
jscodeformile_data.setCell(39, 1, 46);
jscodeformile_data.setCell(39, 2, 46);
jscodeformile_data.setCell(40, 0, 40);
jscodeformile_data.setCell(40, 1, 39);
jscodeformile_data.setCell(40, 2, 65);
jscodeformile_data.setCell(41, 0, 41);
jscodeformile_data.setCell(41, 1, 64);
jscodeformile_data.setCell(41, 2, 46);
jscodeformile_data.setCell(42, 0, 42);
jscodeformile_data.setCell(42, 1, 38);
jscodeformile_data.setCell(42, 2, 32);
jscodeformile_data.setCell(43, 0, 43);
jscodeformile_data.setCell(43, 1, 42);
jscodeformile_data.setCell(43, 2, 65);
jscodeformile_data.setCell(44, 0, 44);
jscodeformile_data.setCell(44, 1, 43);
jscodeformile_data.setCell(44, 2, 47);
jscodeformile_data.setCell(45, 0, 45);
jscodeformile_data.setCell(45, 1, 41);
jscodeformile_data.setCell(45, 2, 49);
jscodeformile_data.setCell(46, 0, 46);
jscodeformile_data.setCell(46, 1, 37);
jscodeformile_data.setCell(46, 2, 31);
jscodeformile_data.setCell(47, 0, 47);
jscodeformile_data.setCell(47, 1, 56);
jscodeformile_data.setCell(47, 2, 55);
jscodeformile_data.setCell(48, 0, 48);
jscodeformile_data.setCell(48, 1, 57);
jscodeformile_data.setCell(48, 2, 66);
jscodeformile_data.setCell(49, 0, 49);
jscodeformile_data.setCell(49, 1, 40);
jscodeformile_data.setCell(49, 2, 51);

        
        // Set chart options
        var optionsbymile = {
          title: 'Device state by mile',
          curveType: 'function',
          legend: { position: 'right' },
          colors: ['#E67E22','#2ECC71'],
          hAxis: { title: "Time" },
          vAxis: { title: "Temperature of device" }};
                       
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.LineChart(document.getElementById('curve_chartbymile'));
        chart.draw(jscodeformile_data, optionsbymile);
      }
      //===================================================================================================
    </script>
  </head>
  <body>
    <div id="curve_chartbytime" style="width: 1000px; height: 500px;"></div>
    <div id="curve_chartbymile" style="width: 1000px; height: 500px;"></div>
    <div id="chart_div" style="width: 1000px; height: 500px;"></div>
  </body>
</html>
